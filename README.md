# Minimal Interspecies Interaction Adjustment (MIIA)
MIIA is a network inference tool for predicting member-dependent interactions in microbial communities, which can deepen our understanding of the organization principles in ecological communities.

This repository contains the MATLAB code and datasets used for demonstrating the [original MIIA (Song *et al.*, 2019)](https://www.frontiersin.org/articles/10.3389/fmicb.2019.01264) and the [scaled MIIA (Lee *et al.*, 2020)](https://www.frontiersin.org/articles/10.3389/fmicb.2019.03049). 

## System requirements
Matlab R2015b+ in Windows, Mac OS, Linux

## Installation
1. Download 'runMiia.m' and all files in the 'data' folder.
2. Unzip ./data/glvData.zip under ./data if you want to test ``glv`` datasets (glv denotes datasets generated from a generalized Lotka-Volterra model). 

## Tutorial
To get started, move to the installation folder and type 

```matlab
runMiia
```
You can apply different MIIAs by commenting/uncommenting  lines 5 to 11. 
```matlab
% Original MIIA: when species abundance data in axenic, binary, and complex
% communities is fully available.
% inferenceRule = 'miia1';

% Scaled MIIA: when only data from axenic cultures are unavailable, to pre-
% dict neighbor-dependent interactions in a relative sense
inferenceRule = 'miia2';
```
You can test with different datasets by commenting/uncommenting  lines 13 to 17.
```matlab
% dataSource = 'tutorial';
% dataSource = 'friedman';
% dataSource = 'glv';
% dataSource = 'wang';
dataSource = 'kato';
```
## Datasets
1. Tutorial data
```matlab
dataSource = 'tutorial'
```
Hypothetical datasets for illustration ([Figure 1](https://www.frontiersin.org/files/Articles/446243/fmicb-10-01264-HTML/image_m/fmicb-10-01264-g001.jpg)).

2. Friedman data
```matlab
dataSource = 'friedman'
```
Datasets for eight competiting soil bacteria collected by [Friedman *et al.* (2017)](https://www.nature.com/articles/s41559-017-0109).

3. *In silico* data generated by a generalized Lotka-Volterra model
```matlab
dataSource = 'glv'
```
File name has the following format: glv_S_r_alpha_beta_trial.mat (S = # of species; r = growth rate; alpha = std of binary interaction coefficients, beta = std of interaction coefficients in complex communities deviating from binary coefficients; trial = # of random trials). 

4. Wang data
```matlab
dataSource = 'wang'
```
Datasets for three-member species derived from natural microbial community in a paddy soil, collected by [Wang *et al.* (2017)](https://doi.org/10.1016/j.soilbio.2016.11.029).

5. Kato data
```matlab
dataSource = 'kato'
```
Datasets for four-member species isolated from a cellulose-degrading bacterial community enriched from a composting process, collected by [Kato *et al.* (2008)](https://doi.org/10.1007/s00248-007-9357-4).

## KBase Narrative
MIIA also has been implemented as a KBase App. Please refer to the [demo narrative](https://narrative.kbase.us/narrative/65154). 

## Citation
[1] Hyun-Seob Song, *et al.* (2019),``Minimal Interspecies Interaction Adjustment (MIIA): inference of member-dependent interactions in microbiomes,`` *Frontiers in Microbiology*, 10, 1264.
https://www.frontiersin.org/articles/10.3389/fmicb.2019.01264

[2] Joon-Yong Lee, *et al.* (2020),``Prediction of Neighbor-dependent Microbial Interactions from Limited Population Data,`` *Frontiers in Microbiology*, in press.
https://www.frontiersin.org/articles/10.3389/fmicb.2019.03049

## Contacts
Hyun-Seob Song (hsong5@unl.edu); Joon-Yong Lee (joonyong.lee@pnnl.gov)
